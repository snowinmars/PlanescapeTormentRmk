// creator  : D:\Games\NearInfinity-exp\app\NearInfinity.jar (v2.4-20250303)
// game     : D:\Games\Steam\steamapps\common\Project P
// resource : DKITLA.DLG
// source   : data\DLGFiles.bif
// dialog   : lang\ru_RU\dialog.tlk
// dialogF  : (none)

BEGIN ~DKITLA~
//////////////////////////////////////////////////
// WARNING: this file contains non-trivial WEIGHTs
//////////////////////////////////////////////////

IF WEIGHT #0 ~  NumTimesTalkedTo(0)
GlobalLT("Curst_Key","GLOBAL",2)
~ THEN BEGIN 0 // from:
  SAY #49453 /* ~Перед тобой высокая и эффектная женщина. Она рассматривает стены таверны, ее руки медленно сжимаются и разжимаются. Едва заметив тебя, она быстрым взглядом пробегается по твоей одежде и снаряжению, после чего снова смотрит тебе в глаза. Язвительно усмехнувшись, она отворачивается.~ */
  IF ~~ THEN REPLY #49454 /* ~«Приветствую».~ */ GOTO 1
  IF ~~ THEN REPLY #49455 /* ~Пройти мимо.~ */ DO ~SetNumTimesTalkedTo(0)
~ EXIT
END

IF ~~ THEN BEGIN 1 // from: 0.0
  SAY #49456 /* ~Она хмуро оборачивается к тебе. «Это у тебя такая привычка — болтать с незнакомцами?»~ */
  IF ~~ THEN REPLY #49457 /* ~«Если мне приходится задавать им вопросы, то да».~ */ GOTO 2
  IF ~~ THEN REPLY #49458 /* ~«Обычно — нет, но я решил поговорить с тобой».~ */ GOTO 2
  IF ~~ THEN REPLY #49459 /* ~«Нет. Прощай».~ */ DO ~SetNumTimesTalkedTo(0)
~ EXIT
END

IF ~~ THEN BEGIN 2 // from: 1.0 1.1
  SAY #49460 /* ~«Должно быть, у тебя при этом богатая на события жизнь. К сожалению для тебя, я очень занята. Я была бы очень признательна, если бы меня оставили в покое».~ */
  IF ~~ THEN REPLY #49461 /* ~«У меня всего лишь несколько вопросов...»~ */ GOTO 3
  IF ~~ THEN REPLY #49462 /* ~«Тогда не буду тебе мешать. Прощай».~ */ EXIT
END

IF WEIGHT #1 ~  NumTimesTalkedToGT(0)
GlobalLT("Curst_Key","GLOBAL",2)
~ THEN BEGIN 3 // from: 2.0
  SAY #49463 /* ~«Какую часть из 'я очень занята' ты не понял? Оставь... меня... в покое. Спасибо». Она снова возвращается к своим мыслям. Она так увлечена собой, что, покусывая нижнюю губу, прокусывает ее. На месте укуса тут же возникают капельки крови.~ */
  IF ~~ THEN REPLY #49464 /* ~«Тогда прощай». ~ */ EXIT
END

IF WEIGHT #2 ~  Global("Mediate","GLOBAL",0)
NumTimesTalkedTo(0)
Global("Curst_Key","GLOBAL",2)
~ THEN BEGIN 4 // from:
  SAY #49465 /* ~Перед тобой высокая и эффектная женщина. Она смотрит сквозь стены таверны, ее руки медленно сжимаются и разжимаются. Едва заметив тебя, она быстрым взглядом пробегается по твоей одежде и снаряжению, после чего снова смотрит тебе в глаза. Язвительно усмехнувшись, она отворачивается от тебя. «Ищешь что-нибудь, рубака?» — спрашивает она, все еще не глядя на тебя.~ */
  IF ~~ THEN REPLY #49466 /* ~«Насколько я понимаю, ты — следующий человек, с кем мне нужно поговорить насчет ключа».~ */ GOTO 5
  IF ~~ THEN REPLY #49467 /* ~«У меня есть вопросы к тебе...»~ */ GOTO 5
  IF ~~ THEN REPLY #49468 /* ~«Не сейчас. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 5 // from: 4.0 4.1
  SAY #49469 /* ~«Хм, насчет ключа? — она удивленно поднимает бровь. — Ты хочешь узнать, что нужно тебе сделать, чтобы его заполучить, так? Все очень просто, приятель. Заинтересован? Ну конечно же, заинтересован, раз говоришь о нем. Но готов ли ты слушать? — вот в чем вопрос».~ */
  IF ~~ THEN REPLY #49471 /* ~«Скажи, что мне нужно сделать».~ */ JOURNAL #49473 /* ~Китла поручила мне забрать завещания у двух людей, Костолома и Кестера, либо разрешить их спор между собой. В обмен за это она даст мне вторую часть ключа к дэва.~ */ GOTO 6
  IF ~~ THEN REPLY #49472 /* ~«Еще нет. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 6 // from: 5.0 9.0 10.7
  SAY #49474 /* ~«Есть два человека, их зовут Костолом и Кестер. Костолом — кузнец, Кестер — винокур. Они оба должны мне *кучу* денег. Один из них должен другому, но никто из них мне платить не собирается. Они вечно говорят о каком-то наследстве. Принеси мне завещания, которые у них на руках. Тогда я смогу расправиться с ними *очень* действенно. Если не сможешь — реши их проблемы друг с другом, или убей их, и тогда я дам тебе вторую часть Ключа».~ */
  IF ~  PartyHasItem("CrumLeg")
PartyHasItem("KestLeg")
~ THEN REPLY #49487 /* ~«Оба завещания у меня с собой».~ */ GOTO 11
  IF ~  PartyHasItem("CrumLeg")
!PartyHasItem("KestLeg")
~ THEN REPLY #49488 /* ~«У меня есть завещание Костолома».~ */ GOTO 17
  IF ~  !PartyHasItem("CrumLeg")
PartyHasItem("KestLeg")
~ THEN REPLY #49489 /* ~«У меня есть завещание Кестера».~ */ GOTO 18
  IF ~  Global("Crumple_Dead_KAPUTZ","GLOBAL",1)
!Global("Kester_Dead_KAPUTZ","GLOBAL",1)
~ THEN REPLY #49490 /* ~«Костолом мертв».~ */ GOTO 21
  IF ~  !Global("Crumple_Dead_KAPUTZ","GLOBAL",1)
Global("Kester_Dead_KAPUTZ","GLOBAL",1)
~ THEN REPLY #49491 /* ~«Кестер мертв».~ */ GOTO 22
  IF ~  Global("Crumple_Dead_KAPUTZ","GLOBAL",1)
Global("Kester_Dead_KAPUTZ","GLOBAL",1)
~ THEN REPLY #66358 /* ~«Они оба мертвы».~ */ GOTO 23
  IF ~~ THEN REPLY #3787 /* ~«Я не буду этого делать».~ */ GOTO 8
  IF ~  Global("Mediate","GLOBAL",0)
~ THEN REPLY #6018 /* ~«Я так и сделаю. Прощай».~ */ DO ~SetGlobal("Mediate","GLOBAL",1)
~ EXIT
  IF ~  GlobalGT("Mediate","GLOBAL",0)
~ THEN REPLY #6018 /* ~«Я так и сделаю. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 7 // from: 10.6
  SAY #49478 /* ~Она лукаво улыбается тебе. «Может быть, мы поговорим после того, как ты закончишь то небольшое поручение, а? Давай, пошевеливайся». Она возвращается к своей выпивке.~ */
  IF ~~ THEN REPLY #49479 /* ~«Тогда прощай». ~ */ EXIT
END

IF ~~ THEN BEGIN 8 // from: 6.6
  SAY #49480 /* ~Она любезно улыбается. «Тогда ты не получишь ключ. Давай, иди».~ */
  IF ~~ THEN REPLY #49481 /* ~«Прощай».~ */ EXIT
END

IF WEIGHT #3 ~  NumTimesTalkedToGT(0)
Global("Curst_Key","GLOBAL",2)
Global("Mediate","GLOBAL",0)
~ THEN BEGIN 9 // from:
  SAY #49482 /* ~«Вернулся, а? Похоже, что я наконец-то найду тебе применение. Ты поможешь мне, я помогу тебе, и все будут счастливы».~ */
  IF ~~ THEN REPLY #49483 /* ~«Что мне нужно будет сделать?»~ */ JOURNAL #49485 /* ~Китла поручила мне забрать завещания у двух людей, Костолома и Кестера, либо разрешить их спор между собой. В обмен за это она даст мне вторую часть ключа к дэва.~ */ GOTO 6
  IF ~~ THEN REPLY #49484 /* ~«Может, позже. Прощай».~ */ JOURNAL #49485 /* ~Китла поручила мне забрать завещания у двух людей, Костолома и Кестера, либо разрешить их спор между собой. В обмен за это она даст мне вторую часть ключа к дэва.~ */ EXIT
END

IF WEIGHT #4 ~  GlobalGT("Mediate","GLOBAL",0)
!Global("Mediate","GLOBAL",6)
!Global("Mediate","GLOBAL",7)
!Global("Mediate","GLOBAL",8)
!Global("Mediate","GLOBAL",10)
~ THEN BEGIN 10 // from:
  SAY #49486 /* ~Ее взгляд сияет в полумраке таверны «Что-нибудь принес, человек в шрамах?»~ */
  IF ~  PartyHasItem("CrumLeg")
PartyHasItem("KestLeg")
~ THEN REPLY #49487 /* ~«Оба завещания у меня с собой».~ */ GOTO 11
  IF ~  PartyHasItem("CrumLeg")
!PartyHasItem("KestLeg")
~ THEN REPLY #49488 /* ~«У меня есть завещание Костолома».~ */ GOTO 17
  IF ~  !PartyHasItem("CrumLeg")
PartyHasItem("KestLeg")
~ THEN REPLY #49489 /* ~«У меня есть завещание Кестера».~ */ GOTO 18
  IF ~  Global("Crumple_Dead_KAPUTZ","GLOBAL",1)
!Global("Kester_Dead_KAPUTZ","GLOBAL",1)
~ THEN REPLY #49490 /* ~«Костолом мертв».~ */ GOTO 21
  IF ~  Global("Kester_Dead_KAPUTZ","GLOBAL",1)
!Global("Crumple_Dead_KAPUTZ","GLOBAL",1)
~ THEN REPLY #49491 /* ~«Кестер мертв».~ */ GOTO 22
  IF ~  Global("Crumple_Dead_KAPUTZ","GLOBAL",1)
Global("Kester_Dead_KAPUTZ","GLOBAL",1)
~ THEN REPLY #66358 /* ~«Они оба мертвы».~ */ GOTO 23
  IF ~~ THEN REPLY #66359 /* ~«Пока что ничего. Я работаю над этим. У меня есть несколько вопросов...»~ */ GOTO 7
  IF ~~ THEN REPLY #50063 /* ~«Еще раз, что я должен сделать?»~ */ GOTO 6
  IF ~~ THEN REPLY #49499 /* ~«Еще нет. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 11 // from: 6.0 10.0
  SAY #49492 /* ~«Правда? Отдай мне их, и я дам тебе вторую часть Ключа».~ */
  IF ~~ THEN REPLY #49493 /* ~«Держи».~ */ DO ~TakePartyItemNum("CrumLeg",1)
TakePartyItemNum("KestLeg",1)
SetGlobal("Mediate","GLOBAL",10)
AddexperienceParty(150000)
~ GOTO 12
  IF ~~ THEN REPLY #49494 /* ~«Я все еще пытаюсь устранить некоторые шероховатости. Дай мне немного времени».~ */ GOTO 13
  IF ~~ THEN REPLY #49495 /* ~«Еще нет. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 12 // from: 11.0
  SAY #49496 /* ~Взяв у тебя бумаги, она злобно хохочет. «ВОТ ТЕПЕРЬ посмотрим, как они будут жаловаться, что не могут заплатить мне». Она прячет завещания в мешочек на поясе. «Ты готов услышать вторую часть ключа?»~ */
  IF ~~ THEN REPLY #49497 /* ~«Да. Говори».~ */ GOTO 14
  IF ~~ THEN REPLY #49498 /* ~«Пока нет. Сначала ответь мне на пару вопросов».~ */ GOTO 16
  IF ~~ THEN REPLY #49499 /* ~«Еще нет. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 13 // from: 11.1 17.1 18.1
  SAY #49500 /* ~Она вздыхает. «Пока ты со мной болтаешь, деньги, которые они мне должны, быстрее не появятся. Иди... забери их».~ */
  IF ~~ THEN REPLY #49501 /* ~«Тогда ладно. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 14 // from: 12.0 16.0 19.0 20.0 21.0 22.0 23.0
  SAY #49502 /* ~На секунду сосредоточившись, она нараспев произносит следующие слова более глубоким голосом: «...средь совершенной тьмы и втрое дальше...» Спустя несколько секунд она продолжает нормальным голосом: «О третьей части ключа переговори с Набатом, он здесь». Она широко зевает. «Я устала. Вот, возьми это и оставь меня на некоторое время. Мне нужно подумать о моих дальнейших планах. Прощай».~ */
  IF ~~ THEN REPLY #49503 /* ~«Я только хотел задать пару вопросов...»~ */ DO ~GiveItem("SPWI912",Protagonist)
SetGlobal("Curst_Key","GLOBAL",3)
~ JOURNAL #49505 /* ~Я получил вторую часть ключа от Китлы: «...средь совершенной тьмы и втрое дальше...» Теперь мне нужно поговорить с неким Набатом.~ */ GOTO 15
  IF ~  !Class(Protagonist,MAGE)
~ THEN REPLY #49504 /* ~«Я хочу выучиться на мага».~ */ DO ~GiveItem("SPWI912",Protagonist)
SetGlobal("Curst_Key","GLOBAL",3)
~ JOURNAL #49505 /* ~Я получил вторую часть ключа от Китлы: «...средь совершенной тьмы и втрое дальше...» Теперь мне нужно поговорить с неким Набатом.~ */ GOTO 24
  IF ~~ THEN REPLY #67753 /* ~«Прощай».~ */ DO ~GiveItem("SPWI912",Protagonist)
SetGlobal("Curst_Key","GLOBAL",3)
~ JOURNAL #49505 /* ~Я получил вторую часть ключа от Китлы: «...средь совершенной тьмы и втрое дальше...» Теперь мне нужно поговорить с неким Набатом.~ */ EXIT
END

IF WEIGHT #6 /* Triggers after states #: 20 even though they appear after this state */
~  GlobalGT("Mediate","GLOBAL",5)
GlobalGT("Curst_Key","GLOBAL",2)
~ THEN BEGIN 15 // from: 14.0 24.2 25.1
  SAY #49506 /* ~«Возвращайся когда-нибудь потом. Сейчас у меня так много мыслей...»~ */
  IF ~  !Class(Protagonist,MAGE)
~ THEN REPLY #49507 /* ~«Ты могла бы выучить меня на мага?»~ */ GOTO 24
  IF ~~ THEN REPLY #67754 /* ~«Тогда ладно. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 16 // from: 12.1
  SAY #49508 /* ~Она вздыхает. «Послушай, у меня еще много дел. Давай я просто передам тебе ключ, и разойдемся на этом, хорошо?»~ */
  IF ~~ THEN REPLY #49509 /* ~«Хорошо. Давай».~ */ GOTO 14
  IF ~  !Class(Protagonist,MAGE)
~ THEN REPLY #49510 /* ~«Я хочу выучиться на мага».~ */ GOTO 24
  IF ~~ THEN REPLY #67755 /* ~«Может, позже. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 17 // from: 6.1 10.1
  SAY #49511 /* ~«Так ты дашь его мне? — она протягивает руку. — Ради него Костолом точно найдет способ заплатить мне».~ */
  IF ~~ THEN REPLY #49512 /* ~«Да. Вот, держи».~ */ DO ~TakePartyItemNum("CrumLeg",1)
SetGlobal("Mediate","GLOBAL",6)
AddexperienceParty(131250)
~ GOTO 19
  IF ~~ THEN REPLY #49513 /* ~«Я все еще пытаюсь устранить некоторые шероховатости. Дай мне немного времени».~ */ GOTO 13
  IF ~~ THEN REPLY #49514 /* ~«Еще нет. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 18 // from: 6.2 10.2
  SAY #49515 /* ~«Так ты дашь его мне? — она протягивает руку. — Ради него Кестер точно найдет способ заплатить мне».~ */
  IF ~~ THEN REPLY #49516 /* ~«Да. Вот, держи».~ */ DO ~TakePartyItemNum("KestLeg",1)
SetGlobal("Mediate","GLOBAL",7)
AddexperienceParty(131250)
~ GOTO 19
  IF ~~ THEN REPLY #49517 /* ~«Я все еще пытаюсь устранить некоторые шероховатости. Дай мне немного времени».~ */ GOTO 13
  IF ~~ THEN REPLY #49518 /* ~«Еще нет. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 19 // from: 17.0 18.0
  SAY #49519 /* ~Злобно хихикнув, она прячет завещание в мешочек на поясе. «Хочешь услышать вторую часть Ключа прямо сейчас?»~ */
  IF ~~ THEN REPLY #49520 /* ~«Да. Говори».~ */ GOTO 14
  IF ~~ THEN REPLY #49521 /* ~«Пока нет. Сначала ответь мне на пару вопросов».~ */ GOTO 20
  IF ~~ THEN REPLY #49522 /* ~«Еще нет. Прощай».~ */ EXIT
END

IF WEIGHT #5 ~  GlobalGT("Mediate","GLOBAL",5)
Global("Curst_Key","GLOBAL",2)
~ THEN BEGIN 20 // from: 19.1
  SAY #49523 /* ~Она вздыхает. «Спасибо, что разобрался с этим делом, но... слушай, у меня еще много дел. Давай я просто передам тебе ключ, и на этом разойдемся, хорошо?»~ */
  IF ~~ THEN REPLY #49524 /* ~«Хорошо. Давай».~ */ GOTO 14
  IF ~~ THEN REPLY #49525 /* ~«Может, позже. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 21 // from: 6.3 10.3
  SAY #66361 /* ~«Ты убил его? Годится... Этот козел вечно меня лапал. Ты готов услышать вторую часть ключа?»~ */
  IF ~~ THEN REPLY #66362 /* ~«Давай его мне...»~ */ DO ~SetGlobal("Mediate","GLOBAL",6)
AddexperienceParty(131250)
~ GOTO 14
END

IF ~~ THEN BEGIN 22 // from: 6.4 10.4
  SAY #66363 /* ~«Хорошо. Все равно я его не переносила. Ты готов услышать вторую часть ключа?»~ */
  IF ~~ THEN REPLY #66364 /* ~«Давай его мне...»~ */ DO ~SetGlobal("Mediate","GLOBAL",7)
AddexperienceParty(131250)
~ GOTO 14
END

IF ~~ THEN BEGIN 23 // from: 6.5 10.5
  SAY #66365 /* ~«Привет, убийца! Не ожидала такого, но не скажу, что разочарована. Ты готов услышать вторую часть ключа?»~ */
  IF ~~ THEN REPLY #66366 /* ~«Давай его мне...»~ */ DO ~SetGlobal("Mediate","GLOBAL",9)
AddexperienceParty(131250)
~ GOTO 14
END

IF ~~ THEN BEGIN 24 // from: 14.1 15.0 16.1
  SAY #67738 /* ~Ее глаза вспыхивают. «О? Ты раньше изучал Искусство?»~ */
  IF ~  GlobalGT("Mage_Training","GLOBAL",0)
~ THEN REPLY #67756 /* ~«Да. Мне просто нужно освежить мои навыки».~ */ GOTO 25
  IF ~  Global("Mage_Training","GLOBAL",0)
~ THEN REPLY #67757 /* ~«Нет. Мне нужно обучение».~ */ GOTO 27
  IF ~~ THEN REPLY #67758 /* ~«Забудь об этом. Просто ответь на несколько вопросов».~ */ GOTO 15
  IF ~~ THEN REPLY #67759 /* ~«Забудь. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 25 // from: 24.0
  SAY #67739 /* ~«И ты хочешь распрощаться со своей текущей специализацией ради новых навыков?»~ */
  IF ~~ THEN REPLY #67760 /* ~«Да».~ */ DO ~FadeToColor([20.0],0)
Wait(3)
FadeFromColor([20.0],0)
SetNamelessClass(MAGE)
~ GOTO 26
  IF ~~ THEN REPLY #67761 /* ~«Нет, конечно. Лучше ответь на несколько вопросов...»~ */ GOTO 15
  IF ~~ THEN REPLY #67762 /* ~«Нет, ничего. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 26 // from: 25.0
  SAY #67740 /* ~После продолжительного разговора об Искусстве она кивает и улыбается. «Ты и в самом деле одарен. У тебя есть все, чтобы снова пуститься по тайному пути».~ */
  IF ~~ THEN REPLY #67763 /* ~«Спасибо. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 27 // from: 24.1
  SAY #67741 /* ~«Сначала посмотрим, есть ли у тебя способности». Она начинает проверять твой интеллект и способность к рассуждению длинной чередой логических и словесных загадок...~ */
  IF ~  CheckStatGT(Protagonist,8,INT)
~ THEN REPLY #67764 /* ~Отвечать на ее вопросы как можно лучше.~ */ DO ~FadeToColor([20.0],0)
Wait(2)
FadeFromColor([20.0],0)
SetGlobal("Mage_Training","GLOBAL",4)
~ GOTO 28
  IF ~  CheckStatLT(Protagonist,9,INT)
~ THEN REPLY #67765 /* ~Отвечать на ее вопросы как можно лучше.~ */ DO ~FadeToColor([20.0],0)
Wait(2)
FadeFromColor([20.0],0)
~ GOTO 29
END

IF ~~ THEN BEGIN 28 // from: 27.0
  SAY #67742 /* ~«По крайней мере, голова у тебя работает». Она изучает тебя. «У тебя и книга есть. Хорошо. Она тебе понадобится, чтобы записывать заклинания. Для всех заклинаний нужно место для хранения. Они могут разными по форме и содержанию, но, в конце концов, они должны быть записаны для дальнейшего изучения магом. Ты пока все понимаешь?»~ */
  IF ~~ THEN REPLY #67766 /* ~«Да. Мне нужна книга для записи заклинаний, чтобы я смог изучать их позже».~ */ GOTO 30
END

IF ~~ THEN BEGIN 29 // from: 27.1
  SAY #67743 /* ~Она прикладывает большие усилия, чтобы не расхохотаться тебе в лицо, однако ты можешь различить презрительный блеск в ее глазах. «Для мага у тебя ума маловато. Все твои заклинания, как вода, вытекут из головы через уши до того, как ты сможешь их произнести. Держись меча, орудуй воровством. Ты никогда не будешь хорош в заклинаниях».~ */
  IF ~~ THEN REPLY #67767 /* ~«Отлично. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 30 // from: 28.0
  SAY #67744 /* ~«Тогда сейчас я устрою тебе небольшое испытание. Взгляни-ка на это, — она показывает свиток. — Прочти это и скажи мне, что на нем написано». Символы на свитке пляшут перед твоими глазами, они кажутся тебе бессмысленными.~ */
  IF ~  CheckStatGT(Protagonist,13,INT)
~ THEN REPLY #67768 /* ~Осмотреть свиток.~ */ GOTO 31
  IF ~  CheckStatLT(Protagonist,14,INT)
~ THEN REPLY #67769 /* ~Осмотреть свиток.~ */ GOTO 32
END

IF ~~ THEN BEGIN 31 // from: 30.0
  SAY #67745 /* ~Рефлекторно ты расслабляешь свои глаза и почти подсознательно понимаешь смысл свитка, словно подключилась какая-то новая часть твоего мозга. В свитке указаны тайные слова, компоненты заклинания, жесты и ритуалы, необходимые для завершения заклинания.~ */
  IF ~~ THEN REPLY #67770 /* ~«Это ведь слабое предсказание, верно? Что-то для определения свойств предметов».~ */ GOTO 33
END

IF ~~ THEN BEGIN 32 // from: 30.1
  SAY #67746 /* ~Как бы ты ни старался, ты не улавливаешь смысла из символов на свитке. Едва ты успеваешь запомнить символы в голове, как они расплываются, оставляя тебя только с головной болью. Наконец, после долгих минут внимательного изучения, ты откладываешь пергамент и расслабляешь глаза... и вдруг содержимое свитка становится ясным. В свитке указаны тайные слова, компоненты заклинания, жесты и ритуалы, необходимые для завершения заклинания.~ */
  IF ~~ THEN REPLY #67771 /* ~«Это ведь слабое предсказание, верно? Что-то для определения свойств предметов».~ */ GOTO 33
END

IF ~~ THEN BEGIN 33 // from: 31.0 32.0
  SAY #67747 /* ~Китла ухмыляется. «Так значит, ты уже знаешь про свитки заклинаний, а? Это значит, что ты, хоть и забыл это, но уже проходил обучение, потому что только маг может читать символы на этом свитке. Ты снова раскрыл свой разум. Ты только что сэкономил годы обучения. Поздравляю».~ */
  IF ~~ THEN REPLY #67772 /* ~«Спасибо. Что теперь?»~ */ JOURNAL #67774 /* ~Китла, маг в таверне «Ворота Предателей» в Проклятом, показала мне магический свиток и сказал, что моя способность читать его означает, что когда-то я был магом.~ */ GOTO 34
  IF ~~ THEN REPLY #67773 /* ~«Кажется, основы я уяснил. Давай перейдем к обучению».~ */ JOURNAL #67774 /* ~Китла, маг в таверне «Ворота Предателей» в Проклятом, показала мне магический свиток и сказал, что моя способность читать его означает, что когда-то я был магом.~ */ GOTO 37
END

IF ~~ THEN BEGIN 34 // from: 33.0
  SAY #67748 /* ~«У тебя уже есть книга, так что теперь нужно только научиться запоминать и создавать заклинания. Во-первых, перед тем, как запоминать заклинания, тебе нужно ясная голова и хороший отдых. Перед отдыхом — это очень важно — выбери заклинания, которые хочешь запомнить, а потом отдыхай. Когда проснешься, потрать немного времени на записанные заклинания, тогда они отложатся в твоей голове».~ */
  IF ~~ THEN REPLY #67775 /* ~«Сколько заклинаний я могу сотворить?»~ */ GOTO 35
  IF ~~ THEN REPLY #67776 /* ~«Кажется, основы я уяснил. Давай перейдем к обучению».~ */ GOTO 37
END

IF ~~ THEN BEGIN 35 // from: 34.0
  SAY #67749 /* ~«Поначалу количество заклинаний будет ограничено. Ты сможешь создавать только одно заклинания, быть может, даже три. Используй их с умом, потому что после использования тебе снова понадобится отдых на запоминание. Продвигаясь в изучении Искусства, ты обнаружишь, что твоя память будет вмещать все больше и больше».~ */
  IF ~~ THEN REPLY #67777 /* ~«Хорошо. Продолжай».~ */ GOTO 36
  IF ~~ THEN REPLY #67778 /* ~«Кажется, основы я уяснил. Давай перейдем к обучению».~ */ GOTO 37
END

IF ~~ THEN BEGIN 36 // from: 35.0
  SAY #67750 /* ~«Как только ты создашь заклинание, оно исчезнет из твоей памяти. Если тебе нужно создать одно заклинание два раза, то и запомнить его нужно два раза». Она умолкает, ненадолго задумавшись. «Всегда примечай новые заклинания. Ты можешь найти их в разных местах и в различных формах, у разных людей. А как найдешь — припрячь и сохрани по возможности в своей книге заклинаний. Просто внимательно изучи и перепиши».~ */
  IF ~~ THEN REPLY #67779 /* ~«Хорошо. Это все?»~ */ JOURNAL #67781 /* ~Китла обучила меня основам магии. Перед отдыхом мне следует выбрать заклинания из своей книги, которые я хочу запомнить. Если я захочу создать заклинание несколько раз, то запоминать его нужно столько же раз. Каждый раз после отдыха я просыпаюсь на утро с готовыми к применению заклинаниями в памяти. В день я могу создавать небольшое количество заклинаний, однако с опытом оно будет расти.~ */ GOTO 37
  IF ~~ THEN REPLY #67780 /* ~«Кажется, основы я уяснил. Давай перейдем к обучению».~ */ JOURNAL #67781 /* ~Китла обучила меня основам магии. Перед отдыхом мне следует выбрать заклинания из своей книги, которые я хочу запомнить. Если я захочу создать заклинание несколько раз, то запоминать его нужно столько же раз. Каждый раз после отдыха я просыпаюсь на утро с готовыми к применению заклинаниями в памяти. В день я могу создавать небольшое количество заклинаний, однако с опытом оно будет расти.~ */ GOTO 37
END

IF ~~ THEN BEGIN 37 // from: 33.1 34.1 35.1 36.0 36.1
  SAY #67751 /* ~«Ты все усвоил. Хорошо. Вот. Возьми эти заклинания и помести их в свою книгу. Удачи».~ */
  IF ~~ THEN REPLY #67752 /* ~«Спасибо. Прощай».~ */ DO ~SetNamelessClass(MAGE)
GiveExperience(Protagonist,5000)
GiveItemCreate("SPWI105",Protagonist,0,0,0)
GiveItemCreate("SPWI502",Protagonist,0,0,0)
GiveItemCreate("SPWI207",Protagonist,0,0,0)
~ EXIT
END
