// creator  : D:\Games\NearInfinity-exp\app\NearInfinity.jar (v2.4-20250303)
// game     : D:\Games\Steam\steamapps\common\Project P
// resource : DMERTWYN.DLG
// source   : data\DLGFiles.bif
// dialog   : lang\ru_RU\dialog.tlk
// dialogF  : (none)

BEGIN ~DMERTWYN~

IF ~  Global("Mertwyn","GLOBAL",0)
~ THEN BEGIN 0 // from:
  SAY #2960 /* ~С этим человеком определенно что-то *не так*... его шатающаяся походка, то, как он натыкается на все, как безучастно смотрит в пустое место. Приблизившись к нему, ты, наконец, понимаешь, в чем дело... у него нет головы. Та штука у него на плечах — просто искусно сделанный деревянный протез... фальшивая голова.~ */
  IF ~  !PartyHasItem("Mertwyn")
~ THEN REPLY #2961 /* ~«Приветствую?..»~ */ DO ~SetGlobal("Mertwyn","GLOBAL",1)
~ GOTO 1
  IF ~  PartyHasItem("Mertwyn")
Global("Mertwyn_Head","GLOBAL",0)
~ THEN REPLY #42316 /* ~«Приветствую?..»~ */ DO ~SetGlobal("Mertwyn","GLOBAL",1)
~ GOTO 1
  IF ~  PartyHasItem("Mertwyn")
GlobalGT("Mertwyn_Head","GLOBAL",0)
~ THEN REPLY #42317 /* ~«Должно быть, это тело Мертвина...»~ */ EXTERN ~DMHEAD~ 12
  IF ~~ THEN REPLY #42318 /* ~Оставить его в покое.~ */ EXIT
END

IF ~~ THEN BEGIN 1 // from: 0.0 0.1 17.0 17.1
  SAY #42320 /* ~Безголовое тело на миг перестает рыскать и останавливается. Его руки начинают тянуться вперед, как бы нащупывая, где именно ты находишься.~ */
  IF ~~ THEN REPLY #42321 /* ~Позволить потрогать себя.~ */ GOTO 2
  IF ~~ THEN REPLY #42322 /* ~Схватить его за руку.~ */ GOTO 3
  IF ~~ THEN REPLY #42323 /* ~Отступить от него.~ */ GOTO 6
END

IF ~~ THEN BEGIN 2 // from: 1.0
  SAY #42324 /* ~Спустя миг его пальцы притрагиваются к твоему предплечью. Он хватается за твою руку и следует к плечу, потом к голове. Ощупав твое лицо и голову, его руки притрагиваются к твоей шее, как бы что-то проверяя. Наконец он хватает твою руку и яростно пожимает ее в знак приветствия. Ты отмечаешь, что кожа у него холодная и немного липкая.~ */
  IF ~~ THEN REPLY #42325 /* ~«Ты меня понимаешь?»~ */ GOTO 4
  IF ~~ THEN REPLY #42326 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 3 // from: 1.1
  SAY #42327 /* ~Безголовый неожиданно подскакивает и крепко хватает тебя за руку, пожимая ее... это тело без головы кажется довольно дружелюбным. У него сильная хватка, но кожа у него холодная и немного липкая.~ */
  IF ~~ THEN REPLY #42328 /* ~«Где твоя голова? Ты вообще меня понимаешь?»~ */ GOTO 4
  IF ~~ THEN REPLY #42329 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 4 // from: 2.0 3.0
  SAY #42330 /* ~Тело делает ряд движений руками и ждет ответа. Кажется, оно задало тебе вопрос.~ */
  IF ~~ THEN REPLY #42331 /* ~«Что? Я не понимаю...»~ */ GOTO 5
  IF ~~ THEN REPLY #42332 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 5 // from: 4.0
  SAY #42333 /* ~Тело без головы несколько секунд топает ногой, почесывая подбородок головы-протеза. Внезапно оно подымает палец, будто что-то придумав. Оно указывает на тебя, затем на глаза своей деревянной головы, затем снова на тебя. Потом оно указывает на свою деревянную голову обеими руками, пожимает плечами и указывает на тебя.~ */
  IF ~~ THEN REPLY #42334 /* ~«Э-э, нет... Твоей головы я нигде не видел».~ */ GOTO 6
END

IF ~~ THEN BEGIN 6 // from: 1.2 5.0
  SAY #42335 /* ~Безголовое тело пожимает плечами, опускает плечи и поворачивается, чтобы отойти.~ */
  IF ~~ THEN REPLY #42336 /* ~Уйти.~ */ EXIT
END

IF ~~ THEN BEGIN 7 // from:
  SAY #42337 /* ~Тело перемещается в твою сторону, вытянув руки к коробке с головой Мертвина.~ */
  IF ~~ THEN REPLY #42338 /* ~Позволить телу Мертвина забрать его голову.~ */ DO ~AddexperienceParty(8000)
SetGlobal("Mertwyn","GLOBAL",2)
DestroyPartyItem("Mertwyn",FALSE)
GivePartyGold(200)
~ JOURNAL #56738 /* ~Я воссоединил голову Мертвина с его телом; эта парочка, кажется, весьма рада видеть друг друга снова.~ */ GOTO 8
  IF ~~ THEN REPLY #42339 /* ~Не дать голову телу.~ */ EXTERN ~DMHEAD~ 13
END

IF ~~ THEN BEGIN 8 // from: 7.0
  SAY #42340 /* ~«Ох, так намного лучше; спасибо, сэр! Думаю, мое тело без меня стало немного беспокойным, — тело крепко обнимает стальную коробку. — Да, мне тебя тоже не хватало... — тело берет коробку под мышку и кланяется тебе. — Что касается тебя, сэр... ты, несомненно, заслужил *некоторое* вознаграждение за беспокойство. Так, посмотрим, что тут у меня... — тело роется в карманах, и, ничего там не отыскав, лезет в тунику. Наконец оно дает тебе несколько горстей медных монет.~ */
  IF ~~ THEN REPLY #42341 /* ~«Спасибо, Мертвин. У меня есть другие вопросы...»~ */ GOTO 9
  IF ~~ THEN REPLY #42342 /* ~«Благодарю. Прощай, Мертвин».~ */ EXIT
END

IF ~~ THEN BEGIN 9 // from: 8.0 10.1 11.0 12.1 13.0 14.2 15.1 16.0 18.0
  SAY #42343 /* ~«Конечно, спрашивай, что захочешь!»~ */
  IF ~~ THEN REPLY #42344 /* ~«Как вышло, что ты... остался без головы?»~ */ GOTO 10
  IF ~~ THEN REPLY #42345 /* ~«Что ты здесь делаешь?»~ */ GOTO 12
  IF ~~ THEN REPLY #42346 /* ~«Что ты можешь рассказать об этом месте?»~ */ GOTO 14
  IF ~  Global("Know_Ravel","GLOBAL",1)
~ THEN REPLY #42347 /* ~«Что ты знаешь о Равель Заморочке?»~ */ GOTO 16
  IF ~~ THEN REPLY #42348 /* ~«Неважно, Мертвин. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 10 // from: 9.0
  SAY #42349 /* ~«Я не уверен, правда... тело положило меня в одном из лекционных залов, и следующее, что я помню, это что кто-то сбежал со мной! Следующее, что я помню, это как ты меня подобрал...»~ */
  IF ~~ THEN REPLY #42350 /* ~«Но я имею в виду, каким образом ты лишился своей *головы*?»~ */ GOTO 11
  IF ~~ THEN REPLY #42351 /* ~«У меня есть другие вопросы...»~ */ GOTO 9
  IF ~~ THEN REPLY #42352 /* ~«Это все, что я хотел узнать. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 11 // from: 10.0
  SAY #42353 /* ~Тело заметно напрягается. «О, мы об этом не любим говорить. Это было ужасно, правда... но что было — то прошло, не стоит ворошить прошлое. Я лишь скажу, что нахожусь в коробке, потому что моя голова выглядит не столь презентабельно, как мое тело, если ты понимаешь, о чем я».~ */
  IF ~~ THEN REPLY #42354 /* ~«У меня есть другие вопросы...»~ */ GOTO 9
  IF ~~ THEN REPLY #42355 /* ~«Это все, что я хотел узнать. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 12 // from: 9.1
  SAY #42356 /* ~«В основном я брожу по Фестхоллу. Ну, знаешь: шатаюсь туда-сюда. Я не чувствующий, прошу заметить, но мне просто нравится наблюдать весь этот разношерстый народ, что тут бродит».~ */
  IF ~~ THEN REPLY #42357 /* ~«Чувствующий?»~ */ GOTO 13
  IF ~~ THEN REPLY #42358 /* ~«У меня есть другие вопросы...»~ */ GOTO 9
  IF ~~ THEN REPLY #42359 /* ~«Это все, что я хотел узнать. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 13 // from: 12.0 14.1 15.0
  SAY #42360 /* ~Тело осторожно качает стальной коробкой, «кивая» головой внутри. «Да... ну, знаешь, Общество Восприятия. Они из кожи вон лезут, пытаясь все перепробовать, считают, что они в конце концов наткнутся на какую-нибудь великую тайну мультивселенной, если будут продолжать заниматься этим достаточно долго». Тело пожимает плечами.~ */
  IF ~~ THEN REPLY #42361 /* ~«У меня есть другие вопросы...»~ */ GOTO 9
  IF ~~ THEN REPLY #42362 /* ~«Это все, что я хотел узнать. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 14 // from: 9.2
  SAY #42363 /* ~Мертвин, кажется, сбит с толку. «Разве не всем известно о Городском Фестхолле? Хм-м-м... что ж, это штаб-квартира чувствующих, и что, вероятно, более важно — в ней находятся их сенсориумы».~ */
  IF ~~ THEN REPLY #42364 /* ~«Расскажи мне об этих сенсориумах...»~ */ GOTO 15
  IF ~~ THEN REPLY #42365 /* ~«Чувствующие?»~ */ GOTO 13
  IF ~~ THEN REPLY #42366 /* ~«У меня есть другие вопросы...»~ */ GOTO 9
  IF ~~ THEN REPLY #42367 /* ~«Это все, что я хотел узнать. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 15 // from: 14.0
  SAY #42368 /* ~«Здешний привратник может объяснить это лучше меня, сэр... это комнаты, где храниться много заколдованных камней, которые, в свою очередь, содержат различные впечатления и переживания, которые в них записали. Публичные сенсориумы открыты для каждого, но за их пользование взимается небольшая плата. Частные сенсориумы доступны только для чувствующих, членов Общества Восприятия».~ */
  IF ~~ THEN REPLY #42369 /* ~«Чувствующие?»~ */ GOTO 13
  IF ~~ THEN REPLY #42370 /* ~«У меня есть другие вопросы...»~ */ GOTO 9
  IF ~~ THEN REPLY #42371 /* ~«Это все, что я хотел узнать. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 16 // from: 9.3
  SAY #42372 /* ~«Равель? Не припомню такой женщины...»~ */
  IF ~~ THEN REPLY #42373 /* ~«Тогда у меня еще вопрос...»~ */ GOTO 9
  IF ~~ THEN REPLY #42374 /* ~«В таком случае, прощай».~ */ EXIT
END

IF ~  Global("Mertwyn","GLOBAL",1)
~ THEN BEGIN 17 // from:
  SAY #42375 /* ~Обезглавленный человек все еще бродит вокруг, натыкаясь на стены, колонны и другие предметы. Его фальшивая деревянная голова ненадежно качается на плечах, когда он ходит взад-вперед.~ */
  IF ~  !PartyHasItem("Mertwyn")
~ THEN REPLY #42376 /* ~«Приветствую?..»~ */ DO ~SetGlobal("Mertwyn","GLOBAL",1)
~ GOTO 1
  IF ~  PartyHasItem("Mertwyn")
Global("Mertwyn_Head","GLOBAL",0)
~ THEN REPLY #42377 /* ~«Приветствую?..»~ */ DO ~SetGlobal("Mertwyn","GLOBAL",1)
~ GOTO 1
  IF ~  PartyHasItem("Mertwyn")
GlobalGT("Mertwyn_Head","GLOBAL",0)
~ THEN REPLY #42378 /* ~«Должно быть, это тело Мертвина...»~ */ EXTERN ~DMHEAD~ 12
  IF ~~ THEN REPLY #42379 /* ~Оставить его в покое.~ */ EXIT
END

IF ~  Global("Mertwyn","GLOBAL",2)
~ THEN BEGIN 18 // from:
  SAY #42381 /* ~Тело Мертвина стоит здесь, неторопливо перебирая пальцами по стальной коробке, в которой находится его голова. Когда ты подходишь, оно наклоняет коробку вперед. «И снова здравствуй, сэр!»~ */
  IF ~~ THEN REPLY #42382 /* ~«Приветствую. у меня есть несколько вопросов, Мертвин...»~ */ GOTO 9
  IF ~~ THEN REPLY #42383 /* ~«Я просто мимо проходил, Мертвин. Счастливо».~ */ EXIT
END
