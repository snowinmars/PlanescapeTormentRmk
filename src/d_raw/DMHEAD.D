// creator  : D:\Games\NearInfinity-exp\app\NearInfinity.jar (v2.4-20250303)
// game     : D:\Games\Steam\steamapps\common\Project P
// resource : DMHEAD.DLG
// source   : data\DLGFiles.bif
// dialog   : lang\ru_RU\dialog.tlk
// dialogF  : (none)

BEGIN ~DMHEAD~

IF ~  Global("Mertwyn_Head","GLOBAL",0)
~ THEN BEGIN 0 // from:
  SAY #42384 /* ~У этой прочной стальной коробки сверху есть толстая кожаная ручка, но как ее открыть — непонятно: выглядит она наглухо запаянной. На одной из сторон имеется несколько очень узких прорезей, хотя через них ты не можешь толком разглядеть, что в коробке. Из прорезей доносится слащавый гнилостный запах. Изучая емкость более внимательно, ты замечаешь, она слегка покачивается в твоих руках. Внутри что-то двигается! Из нее доносится мужской голос: «Эй, там... есть там кто-нибудь? Меня зовут Мертвин... кто-нибудь? Эй?»~ */
  IF ~~ THEN REPLY #42385 /* ~«Да... здравствуй...»~ */ DO ~SetGlobal("Mertwyn_Head","GLOBAL",1)
~ GOTO 1
  IF ~~ THEN REPLY #42386 /* ~Проигнорировать голос и отложит коробку.~ */ EXIT
END

IF ~~ THEN BEGIN 1 // from: 0.0
  SAY #42387 /* ~«Хвала силам! Ты случайно не видел мое тело? Его трудно не заметить... бродит с глупой деревянной башкой на плечах... должно быть, оно уже стерло ноги до коленей, разыскивая меня!»~ */
  IF ~  Global("Mertwyn","GLOBAL",1)
~ THEN REPLY #42388 /* ~«Да... в Городском Фестхолл».~ */ GOTO 2
  IF ~  Global("Mertwyn","GLOBAL",0)
~ THEN REPLY #42389 /* ~«Нет... Не думаю...»~ */ GOTO 9
END

IF ~~ THEN BEGIN 2 // from: 1.0
  SAY #42390 /* ~«Тогда фортуна мне улыбнулась! Могу ли я уговорить тебя вернуть меня ему, сударь?»~ */
  IF ~~ THEN REPLY #42391 /* ~«Да, я сделаю это для тебя».~ */ DO ~IncrementGlobalOnceEx("GLOBALGood_Mertwyn_1","GLOBALGood",1)
SetGlobal("Mertwyn_Head","GLOBAL",2)
~ JOURNAL #41629 /* ~Я согласился вернуть голову Мертвина его телу в Городском Фестхолле.~ */ GOTO 3
  IF ~~ THEN REPLY #42392 /* ~«А что мне от этого будет?»~ */ DO ~IncrementGlobalOnceEx("GLOBALEvil_Mertwyn_1","GLOBALGood",-1)
~ GOTO 5
  IF ~~ THEN REPLY #42393 /* ~«Возможно, позже. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 3 // from: 2.0 5.0 6.0 7.0 8.0 9.0 10.0
  SAY #42394 /* ~«Великолепно! Премного благодарен, сэр. А теперь, если не возражаешь, мы отложим этот разговор до тех пор, пока я не вернусь к своему телу».~ */
  IF ~~ THEN REPLY #42395 /* ~«Но у меня есть несколько вопросов...»~ */ GOTO 4
  IF ~~ THEN REPLY #42396 /* ~«Ладно... Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 4 // from: 3.0 11.0
  SAY #42397 /* ~«В этом я не сомневаюсь, сэр: не каждый день попадаются отрезанные говорящие головы в железных коробках... но это подождет. Видишь ли, очень уж это скучно: быть в разлуке с телом... прими мои глубочайшие извинения».~ */
  IF ~~ THEN REPLY #42398 /* ~«Тогда ладно. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 5 // from: 2.1 9.1 10.1
  SAY #42399 /* ~«Э... моя благодарность?»~ */
  IF ~~ THEN REPLY #42400 /* ~«Сойдет. Я верну тебя на место».~ */ DO ~IncrementGlobalOnceEx("GLOBALGood_Mertwyn_1","GLOBALGood",1)
SetGlobal("Mertwyn_Head","GLOBAL",2)
~ JOURNAL #41629 /* ~Я согласился вернуть голову Мертвина его телу в Городском Фестхолле.~ */ GOTO 3
  IF ~~ THEN REPLY #42401 /* ~«Мне бы что-нибудь более значительное».~ */ GOTO 6
END

IF ~~ THEN BEGIN 6 // from: 5.1
  SAY #42402 /* ~«Ну, я уверен, что по дороге к моему телу мы наверняка захватим что-нибудь подходящее, сэр. Можешь сначала вернуть меня?»~ */
  IF ~~ THEN REPLY #42403 /* ~«Ладно, я сделаю это».~ */ DO ~SetGlobal("Mertwyn_Head","GLOBAL",2)
~ JOURNAL #41629 /* ~Я согласился вернуть голову Мертвина его телу в Городском Фестхолле.~ */ GOTO 3
  IF ~~ THEN REPLY #42404 /* ~«Дай мне что-нибудь сейчас».~ */ GOTO 7
END

IF ~~ THEN BEGIN 7 // from: 6.1
  SAY #42405 /* ~«Э... ну, видишь ли, в данный момент у меня в самом деле ничего с собой *нет*. Видишь ли, я *всего лишь* голова в запертом железном ящике».~ */
  IF ~~ THEN REPLY #42406 /* ~«Ладно... Я сделаю это».~ */ DO ~SetGlobal("Mertwyn_Head","GLOBAL",2)
~ JOURNAL #41629 /* ~Я согласился вернуть голову Мертвина его телу в Городском Фестхолле.~ */ GOTO 3
  IF ~~ THEN REPLY #42407 /* ~«Отлично... вот и будешь гнить в своем ящике, Мертвин».~ */ GOTO 8
END

IF ~~ THEN BEGIN 8 // from: 7.1
  SAY #42408 /* ~«Постой! Погоди, сударь! Послушай, я могу тебе *что-нибудь* дать, просто сначала мне нужно вернуться к своему телу!»~ */
  IF ~~ THEN REPLY #42409 /* ~«Ладно, я сделаю это».~ */ DO ~SetGlobal("Mertwyn_Head","GLOBAL",2)
~ GOTO 3
  IF ~~ THEN REPLY #42410 /* ~«Мы поговорим об этом позже. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 9 // from: 1.1
  SAY #42411 /* ~«О, боги. Что ж, это было бы уже слишком — надеяться на такое, правда? Как бы там ни было, оно, вероятно, шатается по Городскому Фестхоллу, что в северо-восточном углу Чиновничьего района. Могу ли я каким-то образом уговорить тебя доставить меня к нему, сударь?»~ */
  IF ~~ THEN REPLY #42412 /* ~«Да, я сделаю это для тебя».~ */ DO ~IncrementGlobalOnceEx("GLOBALGood_Mertwyn_1","GLOBALGood",1)
SetGlobal("Mertwyn_Head","GLOBAL",2)
~ JOURNAL #41629 /* ~Я согласился вернуть голову Мертвина его телу в Городском Фестхолле.~ */ GOTO 3
  IF ~~ THEN REPLY #42413 /* ~«А что мне от этого будет?»~ */ DO ~IncrementGlobalOnceEx("GLOBALEvil_Mertwyn_1","GLOBALGood",-1)
~ GOTO 5
  IF ~~ THEN REPLY #42414 /* ~«Возможно, позже. Прощай».~ */ EXIT
END

IF ~  Global("Mertwyn_Head","GLOBAL",1)
~ THEN BEGIN 10 // from:
  SAY #42415 /* ~Голова Мертвина в коробке начинает суетиться, когда ты ее поднимаешь. «О, и снова привет... скажи-ка, есть ли шанс, что ты вернешь меня моему телу? Уверяю тебя, я буду *очень* благодарен...»~ */
  IF ~~ THEN REPLY #42416 /* ~«Да, я сделаю это для тебя».~ */ DO ~IncrementGlobalOnceEx("GLOBALGood_Mertwyn_1","GLOBALGood",1)
SetGlobal("Mertwyn_Head","GLOBAL",2)
~ GOTO 3
  IF ~~ THEN REPLY #42417 /* ~«А что мне от этого будет?»~ */ DO ~IncrementGlobalOnceEx("GLOBALEvil_Mertwyn_1","GLOBALGood",-1)
~ GOTO 5
  IF ~~ THEN REPLY #42418 /* ~«Возможно, позже. Прощай».~ */ EXIT
END

IF ~  Global("Mertwyn_Head","GLOBAL",2)
~ THEN BEGIN 11 // from:
  SAY #42419 /* ~Голова Мертвина в коробке начинает суетиться, когда ты ее поднимаешь. «Мы уже пришли, сударь? М-м-м... я не *вижу* своего тела...»~ */
  IF ~~ THEN REPLY #42420 /* ~«Мы еще не пришли, однако у меня есть несколько вопросов...»~ */ GOTO 4
  IF ~~ THEN REPLY #42421 /* ~«Мы еще не пришли. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 12 // from:
  SAY #42422 /* ~Внезапно голос Мертвина эхом раздается в стальной коробке. «О! О! Вот оно! Это мое тело! Послушай, старина... вон там...»~ */
  IF ~~ THEN EXTERN ~DMERTWYN~ 7
END

IF ~~ THEN BEGIN 13 // from:
  SAY #42423 /* ~«О, да брось... это не очень вежливо, сэр. Да и на кой черт, в конце концов, сдалась тебе моя голова?»~ */
  IF ~~ THEN REPLY #42424 /* ~Позволить телу Мертвина забрать его голову.~ */ DO ~AddexperienceParty(8000)
SetGlobal("Mertwyn","GLOBAL",2)
DestroyPartyItem("Mertwyn",FALSE)
GiveGoldForce(200)
~ JOURNAL #56738 /* ~Я воссоединил голову Мертвина с его телом; эта парочка, кажется, весьма рада видеть друг друга снова.~ */ EXTERN ~DMERTWYN~ 8
  IF ~~ THEN REPLY #42425 /* ~«Извини, ты еще немного побудешь у меня. Прощай».~ */ EXIT
END
