// creator  : D:\Games\NearInfinity-exp\app\NearInfinity.jar (v2.4-20250303)
// game     : D:\Games\Steam\steamapps\common\Project P
// resource : DTHORP.DLG
// source   : data\DLGFiles.bif
// dialog   : lang\ru_RU\dialog.tlk
// dialogF  : (none)

BEGIN ~DTHORP~
//////////////////////////////////////////////////
// WARNING: this file contains non-trivial WEIGHTs
//////////////////////////////////////////////////

IF WEIGHT #3 /* Triggers after states #: 24 26 27 even though they appear after this state */
~  NumTimesTalkedTo(0)
~ THEN BEGIN 0 // from:
  SAY #51205 /* ~Перед тобой стоит огромное существо высотой в девять футов. Его массивное тело играет мускулами. Хитро на тебя поглядывая, оно хохочет.~ */
  IF ~~ THEN REPLY #51206 /* ~«Приветствую».~ */ GOTO 1
  IF ~~ THEN REPLY #51207 /* ~Не обращать внимания на существо.~ */ DO ~SetNumTimesTalkedTo(0)
~ EXIT
END

IF ~~ THEN BEGIN 1 // from: 0.0
  SAY #51208 /* ~Оно смотрит на тебя, приветливо улыбаясь. «Чего тебе надо, коротышка?»~ */
  IF ~~ THEN REPLY #51209 /* ~«У меня есть несколько вопросов...» ~ */ GOTO 2
  IF ~~ THEN REPLY #51210 /* ~«Ничего, прощай».~ */ DO ~SetNumTimesTalkedTo(0)
~ EXIT
END

IF ~~ THEN BEGIN 2 // from: 1.0 4.0 5.0 6.1 7.1 8.1 9.1 10.1 11.1 12.0 14.0 23.0
  SAY #51211 /* ~«У тебя есть вопросы, у Торпа, может быть, есть ответы», — улыбается он.~ */
  IF ~~ THEN REPLY #51212 /* ~«Кто ты?»~ */ GOTO 3
  IF ~~ THEN REPLY #51213 /* ~«Что ты здесь делаешь?»~ */ GOTO 6
  IF ~~ THEN REPLY #51214 /* ~«Что ты можешь рассказать об этом районе?»~ */ GOTO 13
  IF ~  GlobalGT("Barsh_Abishai","GLOBAL",0)
~ THEN REPLY #51215 /* ~«Ты говорил, что собираешься сразиться с абишаем?»~ */ GOTO 15
  IF ~  Global("Know_Xanthia_Plan","GLOBAL",1)
~ THEN REPLY #51216 /* ~«Я общался с Ксантией. Она сказала, что ты собираешься сразиться с абишаем?»~ */ GOTO 15
  IF ~~ THEN REPLY #68262 /* ~«Я должен идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 3 // from: 2.0
  SAY #51217 /* ~Он бьет себя по груди оглушительным ударом. «Торп, — он вздымает руки над головой и грозится кулаками небу. — Великий воин — это Торп. Все токола — великие воины». Он опускает свои кулачища и подпирает ими бока. «Ты кто?»~ */
  IF ~~ THEN REPLY #51219 /* ~Ложь: «Я — Адан».~ */ DO ~IncrementGlobalOnceEx("GLOBALThorp_Adahn","GLOBALAdahn",1)
IncrementGlobalOnceEx("GLOBALChaotic_Thorp_1","GLOBALLaw",-1)
~ GOTO 4
  IF ~~ THEN REPLY #51220 /* ~«Я не помню своего имени».~ */ GOTO 5
END

IF ~~ THEN BEGIN 4 // from: 3.0
  SAY #51221 /* ~На секунду задумавшись, он кивает: «Хорошее имя для коротышки. Звучит. Торпу нравится».~ */
  IF ~~ THEN REPLY #51222 /* ~«У меня есть несколько вопросов...» ~ */ GOTO 2
  IF ~~ THEN REPLY #51223 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 5 // from: 3.1
  SAY #51224 /* ~Заметив твои шрамы, он кивает. «У тебя много шрамов. Ты, наверное, великий воин... как Торп! — он мудро кивает. — Тебя били по голове слишком много. Не помнишь имя. Когда-нибудь оно вернется».~ */
  IF ~~ THEN REPLY #51225 /* ~«У меня есть несколько вопросов...» ~ */ GOTO 2
  IF ~~ THEN REPLY #51226 /* ~«Я должен идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 6 // from: 2.1 13.0
  SAY #51227 /* ~Громко хохоча, он улыбается тебе. «Торп здесь с друзьями, — он указывает на остальных токола, — хотим побить... летучую ящерицу». Он громко кричит и бьет себя по груди кулачищами размером с хороший окорок.~ */
  IF ~~ THEN REPLY #51228 /* ~«Эээ... летучую ящерицу?»~ */ GOTO 7
  IF ~~ THEN REPLY #51229 /* ~«Понятно. У меня есть еще вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #51230 /* ~«Мне нужно идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 7 // from: 6.0
  SAY #51231 /* ~Он кивает, начиная изображать ползучую тварь. «Ящерица... только летучая», — он машет руками словно огромная неуклюжая птица. Усевшись, он выжидательно смотрит на тебя.~ */
  IF ~~ THEN REPLY #51232 /* ~«Ты имеешь в виду дракона?»~ */ GOTO 8
  IF ~~ THEN REPLY #51233 /* ~«Понятно. У меня есть еще вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #51234 /* ~«Мне нужно идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 8 // from: 7.0
  SAY #51235 /* ~Хмыкнув, он встает во весь рост. «Торп хорош, но не настолько хорош. Когда-нибудь Торп хочет побить дракона... — он задумчиво смотрит вдаль, вздыхая. — Но не сегодня».~ */
  IF ~~ THEN REPLY #51236 /* ~«Ну раз это не дракон, о ком ты тогда говоришь?»~ */ GOTO 9
  IF ~~ THEN REPLY #51237 /* ~«Понятно. У меня есть еще вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #51239 /* ~«Мне нужно идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 9 // from: 8.0
  SAY #51240 /* ~«Торп не помнит, как Ксантия их называет... — он задумывается. — Это ящерица, длинная, как Торп. Ходит на задних лапах... с крыльями... с когтями... красная. Кажется, она их зовет... забей швай?» Он пожимает плечами.~ */
  IF ~~ THEN REPLY #51241 /* ~«Я что-то слышал про абишаев. Это они?»~ */ DO ~SetGlobal("Barsh_Abishai","GLOBAL",1)
~ JOURNAL #67299 /* ~Токола по имени Торп вместе с двумя своими друзьями собирается сразится с абишаем. Токола — не самые сообразительные существа, но зато выглядят достаточно внушительно. Возможно, у этих все получится.~ */ GOTO 10
  IF ~~ THEN REPLY #51242 /* ~«Понятно. У меня есть еще вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #51243 /* ~«Мне нужно идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 10 // from: 9.0
  SAY #51245 /* ~Озарившись, он радостно тебе улыбается, кивая головой. «Да! Абишай... летучая ящерица. Торп с друзьями очень хороши. Торп будет достойный воин. Ксантия принимает извинения...»~ */
  IF ~~ THEN REPLY #51246 /* ~«Что за Ксантия и какие извинения?»~ */ GOTO 11
  IF ~~ THEN REPLY #51247 /* ~«Понятно. У меня есть еще вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #51248 /* ~«Мне нужно идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 11 // from: 10.0
  SAY #51249 /* ~«Торп ведет друзей в таверну прошлой ночью. Торп сильно напивается, падает на стол Ксантии, обливает всю выпивкой, — он выглядит смущенным. — Ксантия говорит, она не примет извинения, пока Торп не будет достойный воин».~ */
  IF ~~ THEN REPLY #51250 /* ~«То есть, ты думаешь, что, убив абишая, ты станешь достойным?»~ */ JOURNAL #67300 /* ~Похоже, Торп, напившись с друзьями в таверне, оскорбил даму, облив ее выпивкой с ног до головы. Ксантия, оскорбленная дама, отказывается принимать извинения Торпа до тех пор, пока он не докажет, что он великий воин. Для этого ему нужно убить абишая.~ */ GOTO 12
  IF ~~ THEN REPLY #51251 /* ~«Понятно. У меня есть еще вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #51252 /* ~«Мне нужно идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 12 // from: 11.0
  SAY #51253 /* ~Он пожимает плечами. «Ксантия так говорит. Торп не знает».~ */
  IF ~~ THEN REPLY #51254 /* ~«Понятно. У меня есть еще вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #51255 /* ~«Мне нужно идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 13 // from: 2.2
  SAY #51256 /* ~Он пожимает плечами. «Торп не знает. Торп здесь недавно, — он по-детски улыбается. — Торп здесь для развлечения!»~ */
  IF ~  Global("Barsh_Abishai","GLOBAL",0)
~ THEN REPLY #51257 /* ~«Какого развлечения?»~ */ GOTO 6
  IF ~  Global("Barsh_Abishai","GLOBAL",1)
~ THEN REPLY #51258 /* ~«Да, вы собираетесь побить абишая».~ */ GOTO 14
  IF ~  Global("Barsh_Abishai","GLOBAL",2)
~ THEN REPLY #63237 /* ~«Да, вы собираетесь побить абишая».~ */ GOTO 15
END

IF ~~ THEN BEGIN 14 // from: 13.1
  SAY #51259 /* ~Он радостно тебе кивает. «Точно! Торп с друзьями на охоте!»~ */
  IF ~~ THEN REPLY #51260 /* ~«Понятно. У меня есть еще вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #51261 /* ~«Мне нужно идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 15 // from: 2.3 2.4 13.2
  SAY #51262 /* ~Он радостно тебе кивает. «Точно! Торп с друзьями на охоте!»~ */
  IF ~  !Global("Know_Xanthia_Plan","GLOBAL",1)
~ THEN REPLY #51263 /* ~«Ладно, развлекайся. Прощай».~ */ EXIT
  IF ~  Global("Know_Xanthia_Plan","GLOBAL",1)
~ THEN REPLY #51264 /* ~Предупредить Торпа: «Я слышал, что абишая можно ранить только магическим оружием».~ */ DO ~AddexperienceParty(6000)
IncrementGlobalOnceEx("GLOBALGood_Thorp_1","GLOBALGood",1)
SetGlobal("Barsh_Abishai","GLOBAL",4)
~ JOURNAL #67301 /* ~Я предупредил Торпа, что абишая можно ранить только магическим оружием. Я поступил правильно, потому что иначе он бы погиб вместе с друзьями.~ */ GOTO 16
  IF ~  Global("Know_Xanthia_Plan","GLOBAL",1)
~ THEN REPLY #51265 /* ~Не предупреждать Торпа: «Ладно, развлекайся. Уверен, что ты одержишь победу. Прощай».~ */ DO ~AddexperienceParty(1500)
IncrementGlobalOnceEx("GLOBALEvil_Thorp_1","GLOBALGood",-1)
SetGlobal("Barsh_Abishai","GLOBAL",3)
~ JOURNAL #67302 /* ~Торп не догадывается о том, что абишая можно ранить только магическим оружием. Я мог предупредить его... но какого черта. Это будет забавное зрелище.~ */ EXIT
END

IF ~~ THEN BEGIN 16 // from: 15.1
  SAY #51266 /* ~Он обеспокоенно смотрит на тебя: «Надо магия? Откуда знаешь?»~ */
  IF ~~ THEN REPLY #51267 /* ~«Спрашивал у людей, Торп. Так все говорят».~ */ GOTO 17
  IF ~~ THEN REPLY #51268 /* ~«Я общался с Ксантией. Она сказала мне это».~ */ GOTO 21
END

IF ~~ THEN BEGIN 17 // from: 16.0
  SAY #51269 /* ~«У Торпа нет магии. У друзей нет магии. Мы умираем, если нападаем на абишая... — он вздыхает. — Торп — недостойный воин. Ксантия не принимает извинения».~ */
  IF ~~ THEN REPLY #51270 /* ~«Ты собирался рисковать своей жизнью ради чести дамы, Торп. Только достойные воины поступают так».~ */ GOTO 18
END

IF ~~ THEN BEGIN 18 // from: 17.0
  SAY #51271 /* ~Некоторое время он молча смотрит на тебя, затем на его лице появляется широкая улыбка. «Правда? Торп и друзья теперь достойные?»~ */
  IF ~~ THEN REPLY #51272 /* ~«Да. Считай, что честь Ксантии защищена, и она приняла извинения».~ */ GOTO 19
END

IF ~~ THEN BEGIN 19 // from: 18.0 22.0
  SAY #51273 /* ~«Торп говорит спасибо. Ты спасаешь жизнь. Ты спасаешь жизнь друзей», — он поворачивается к другим токола и поспешно что-то им говорит. Через секунду все трое кланяются тебе, протягивая по пригоршне монет.~ */
  IF ~~ THEN REPLY #51274 /* ~«Спасибо».~ */ DO ~GiveGoldForce(600)
~ GOTO 20
END

IF ~~ THEN BEGIN 20 // from: 19.0
  SAY #51275 /* ~Он улыбается. «Ты хороший друг. Ты заслуживаешь».~ */
  IF ~~ THEN REPLY #51277 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 21 // from: 16.1
  SAY #51278 /* ~Волна смущения сменяется осознанием. «Ксантия разводит Торпа вместо кролика... Она врет, пытается убить Торпа с друзьями...»~ */
  IF ~~ THEN REPLY #51279 /* ~«Боюсь, это так, Торп».~ */ GOTO 22
END

IF ~~ THEN BEGIN 22 // from: 21.0
  SAY #51280 /* ~Он кивает: «Ксантия не заслуживает извинения. Торп ничего ей не должен».~ */
  IF ~~ THEN REPLY #51281 /* ~«Да, ты свободен от своих обязательств».~ */ GOTO 19
END

IF WEIGHT #4 /* Triggers after states #: 24 26 27 even though they appear after this state */
~  NumTimesTalkedToGT(0)
~ THEN BEGIN 23 // from:
  SAY #51282 /* ~Ты видишь токола Торпа. Он приветливо тебе хохочет. «Коротышка здесь! Что тебе нужно от Торпа?»~ */
  IF ~~ THEN REPLY #51283 /* ~«У меня есть несколько вопросов...» ~ */ GOTO 2
  IF ~~ THEN REPLY #51284 /* ~«Ничего, прощай».~ */ EXIT
END

IF WEIGHT #2 /* Triggers after states #: 26 27 even though they appear after this state */
~  Global("Barsh_Abishai","GLOBAL",3)
~ THEN BEGIN 24 // from:
  SAY #51285 /* ~Ты видишь токола Торпа. Он приветливо тебе хохочет. «Снова коротышка! Что тебе нужно?»~ */
  IF ~~ THEN REPLY #66163 /* ~«Ничего, просто жду начала славной битвы между вами и абишаем».~ */ GOTO 25
END

IF ~~ THEN BEGIN 25 // from: 24.0
  SAY #63465 /* ~Торп оглушительно хохочет, ударяя себя кулаком по груди. «Торп — великий воин. Скоро Торп становится достойным воином, — он садится и становится серьезным, — и тогда дама прощает Торпа за неуклюжесть».~ */
  IF ~~ THEN REPLY #63466 /* ~«Прощай, Торп».~ */ EXIT
END

IF WEIGHT #1 /* Triggers after states #: 27 even though they appear after this state */
~  Global("Barsh_Abishai","GLOBAL",4)
~ THEN BEGIN 26 // from:
  SAY #63467 /* ~Ты видишь токола Торпа. Он приветливо тебе хохочет. «Лучший друг Торпа коротышка здесь! Что тебе нужно от Торпа? — он тепло улыбается. — Торп не забывает, ты спасаешь жизнь».~ */
  IF ~~ THEN REPLY #66164 /* ~«Ничего, прощай».~ */ EXIT
END

IF WEIGHT #0 ~  Global("Kill_Special_Abashai_KAPUTZ","GLOBAL",1)
~ THEN BEGIN 27 // from:
  SAY #66165 /* ~Ты видишь токола Торпа. Он приветливо тебе хохочет. «Торп говорит спасибо, коротышка. Ты помогаешь Торпу!»~ */
  IF ~~ THEN REPLY #66166 /* ~«Всегда пожалуйста, Торп. Прощай».~ */ JOURNAL #67303 /* ~Иногда я просто себя удивляю. Я пожалел Торпа и его друзей и помог им убить абишая. Что тут сказать... минутная слабость?~ */ EXIT
END
