// creator  : D:\Games\NearInfinity-exp\app\NearInfinity.jar (v2.4-20250303)
// game     : D:\Games\Steam\steamapps\common\Project P
// resource : DULTHERA.DLG
// source   : data\DLGFiles.bif
// dialog   : lang\ru_RU\dialog.tlk
// dialogF  : (none)

BEGIN ~DULTHERA~
//////////////////////////////////////////////////
// WARNING: this file contains non-trivial WEIGHTs
//////////////////////////////////////////////////

IF WEIGHT #4 /* Triggers after states #: 25 26 27 29 even though they appear after this state */
~  NumTimesTalkedTo(0)
~ THEN BEGIN 0 // from:
  SAY #64787 /* ~Ты видишь грузную пожилую женщину, одетую в тряпье. Похоже, она бесцельно гуляет по улицам, что-то бормоча себе под нос. Заметив тебя, она одаривает тебя беззубой улыбкой. «Что, пришел повидать Ультеру? Чем она может быть полезна?»~ */
  IF ~~ THEN REPLY #64788 /* ~«Приветствую».~ */ GOTO 1
  IF ~~ THEN REPLY #64789 /* ~Игнорировать ее.~ */ DO ~SetNumTimesTalkedTo(0)
~ EXIT
END

IF ~~ THEN BEGIN 1 // from: 0.0
  SAY #64790 /* ~«Аха, аха. И тебе привет...» Она небрежно осматривает тебя, ее улыбка становится еще шире. «Нечасто же Ультеру навещают такие как ты. Чего тебе нужно?»~ */
  IF ~~ THEN REPLY #64791 /* ~«У меня есть пара вопросов...» ~ */ GOTO 2
  IF ~~ THEN REPLY #64792 /* ~«Ничего, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 2 // from: 1.0 3.1 4.0 5.2 8.1 9.0 12.1 13.2 14.1 15.1 16.1 17.1 18.1 24.0 30.0
  SAY #64793 /* ~«Аха, ну так задавай».~ */
  IF ~~ THEN REPLY #64794 /* ~«Кто ты?»~ */ GOTO 3
  IF ~~ THEN REPLY #64795 /* ~«Что ты здесь делаешь?»~ */ GOTO 5
  IF ~~ THEN REPLY #64796 /* ~«Что ты можешь рассказать об этом месте?»~ */ GOTO 13
  IF ~  Global("Sheryl_Quest","GLOBAL",3)
~ THEN REPLY #64797 /* ~«Я хотел спросить тебя насчет отца Шерил, Аркина».~ */ GOTO 16
  IF ~~ THEN REPLY #64798 /* ~«Ладно, я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 3 // from: 2.0
  SAY #64799 /* ~«Ты меня не слышишь? Что, уши шрамами заросли и ты оглох?» Она склоняет голову набок и начинает осматривать твои уши. «Ба! Ладно, неважно. Ультера — вот я кто. Ведьма Ультера — так зовусь».~ */
  IF ~~ THEN REPLY #64800 /* ~«Ты ведьма?»~ */ GOTO 4
  IF ~~ THEN REPLY #64801 /* ~«У меня есть другие вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64802 /* ~«Я должен идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 4 // from: 3.0
  SAY #64803 /* ~От ее неудержимо громкого хохота у тебя закладывает уши. «Конечно, нет, пень ты эдакий. Люди не понимают Ультеру. Думают, она чокнутая, странная... короче, ведьма. Вот как».~ */
  IF ~~ THEN REPLY #64804 /* ~«У меня есть другие вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64805 /* ~«Я должен идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 5 // from: 2.1
  SAY #64806 /* ~«Что делает Ультера... — она хмурится, отчего лицо покрывается сетью морщин. — Она предсказывает, где искать утерянное. Люди приходят к ней и задают вопросы. А она находит вещи, о которых они просили».~ */
  IF ~~ THEN REPLY #64807 /* ~«Я потерял свои воспоминания, ты можешь их разыскать?»~ */ GOTO 6
  IF ~~ THEN REPLY #64808 /* ~«Я потерял свое имя, ты можешь найти его?»~ */ GOTO 10
  IF ~~ THEN REPLY #64809 /* ~«У меня есть другие вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64810 /* ~«Я должен идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 6 // from: 5.0
  SAY #64811 /* ~Она хмуро смотрит на тебя, затем протягивает морщинистую ладонь. «Руку. Дай-ка ее Ультере».~ */
  IF ~~ THEN REPLY #64812 /* ~Протянуть ей руку.~ */ GOTO 7
  IF ~~ THEN REPLY #64813 /* ~Отказаться.~ */ GOTO 30
END

IF ~~ THEN BEGIN 7 // from: 6.0
  SAY #64814 /* ~Ты берешь Ультеру за руку. Некоторое время ничего не происходит. Внезапно ты чувствуешь в своем разуме чье-то присутствие, прощупывающее твои самые сокровенные мысли. Ощущение очень странное и немного пугающее. Инстинктивно ты пытаешься выдворить непрошеного гостя из своего сознания. Ты слышишь хрип Ультеры, отпускающей твою руку.~ */
  IF ~~ THEN REPLY #64815 /* ~«Ну как?»~ */ GOTO 8
END

IF ~~ THEN BEGIN 8 // from: 7.0
  SAY #64816 /* ~«Аха, ты какой-то странный... — она горестно качает головой. — Ультера не знает... Твои воспоминания скорее скрыты, чем потеряны... Или, быть может, принадлежат другому... Ультера чувствует глубокую пропасть... — она вздыхает. — Ультера не может тебе помочь... Ты не под силу ее простым средствам».~ */
  IF ~~ THEN REPLY #64817 /* ~«Я не понял, о чем ты только что сказала. Что ты имеешь ввиду?»~ */ GOTO 9
  IF ~~ THEN REPLY #64818 /* ~«У меня есть другие вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64819 /* ~«Я должен идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 9 // from: 8.0 12.0
  SAY #64820 /* ~Она фыркает и качает головой. «Ультера понимает еще меньше тебя... Прости старуху. Ультера не сможет тебе помочь».~ */
  IF ~~ THEN REPLY #64821 /* ~«У меня есть другие вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64822 /* ~«Я должен идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 10 // from: 5.1
  SAY #64823 /* ~Она хмуро смотрит на тебя, затем протягивает морщинистую ладонь. «Руку. Дай-ка ее Ультере».~ */
  IF ~~ THEN REPLY #64824 /* ~Протянуть ей руку.~ */ GOTO 11
  IF ~~ THEN REPLY #64826 /* ~Отказаться.~ */ GOTO 30
END

IF ~~ THEN BEGIN 11 // from: 10.0
  SAY #64825 /* ~Ты берешь Ультеру за руку. Некоторое время ничего не происходит. Внезапно ты чувствуешь в своем разуме чье-то присутствие, прощупывающее твои самые сокровенные мысли. Ощущение очень странное и немного пугающее. Инстинктивно ты пытаешься выдворить непрошеного гостя из своего сознания. Ты слышишь хрип Ультеры, отпускающей твою руку.~ */
  IF ~~ THEN REPLY #64827 /* ~«Ну как?»~ */ GOTO 12
END

IF ~~ THEN BEGIN 12 // from: 11.0
  SAY #64828 /* ~«Аха, ты какой-то странный... — она горестно качает головой. — Ультера не знает... Твое имя не потеряно — от него отказались по собственной воле... Ты Безымянный, и должен остаться безымянным. Это твой выбор... Ультера не может тебе помочь».~ */
  IF ~~ THEN REPLY #64829 /* ~«Я не понял, о чем ты только что сказала. Что ты имеешь ввиду?»~ */ GOTO 9
  IF ~~ THEN REPLY #64830 /* ~«У меня есть другие вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64831 /* ~«Я должен идти, прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 13 // from: 2.2
  SAY #64832 /* ~Она с улыбкой озирается. «Это владения Фарода. Зовутся Погребенной деревней. Сигил — наверху, катакомбы — внизу... Больше Ультера ничего не знает...»~ */
  IF ~~ THEN REPLY #64833 /* ~«Я ищу Фарода, где его найти?»~ */ GOTO 14
  IF ~~ THEN REPLY #64834 /* ~«Расскажи мне о катакомбах».~ */ GOTO 15
  IF ~~ THEN REPLY #64835 /* ~«У меня есть пара вопросов...» ~ */ GOTO 2
  IF ~~ THEN REPLY #64836 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 14 // from: 13.0 15.0
  SAY #64837 /* ~«На север и на восток — туда тебе надо. Ультера точно не знает. У Фарода есть стражники, их-то и ищи. Найдешь стражников — значит, и Фарод где-то неподалеку...»~ */
  IF ~~ THEN REPLY #64838 /* ~«Ты упомянула про катакомбы, что ты можешь о них рассказать?»~ */ GOTO 15
  IF ~~ THEN REPLY #64839 /* ~«У меня есть пара вопросов...» ~ */ GOTO 2
  IF ~~ THEN REPLY #64840 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 15 // from: 13.1 14.0
  SAY #64841 /* ~Она выглядит обеспокоенной. «Это склепы умерших, Плачущим камнем они зовутся. Там мертвым не спится, все по залам ходят... Берегись, если туда попадешь, — она неопределенно указывает рукой. — На юг и на восток — туда тебе надо, если ищешь Плачущий камень...»~ */
  IF ~~ THEN REPLY #64842 /* ~«Ты упомянула про Фарода, где мне найти его?»~ */ GOTO 14
  IF ~~ THEN REPLY #64843 /* ~«У меня есть пара вопросов...» ~ */ GOTO 2
  IF ~~ THEN REPLY #64844 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 16 // from: 2.3
  SAY #64845 /* ~«Ба! Так это потаскушка Шерил тебя прислала!» Она произносит это скорее утвердительно, чем вопросительно. Она свирепо смотрит на тебя перед тем, как продолжить. «Чего ты хочешь узнать об Аркине?»~ */
  IF ~~ THEN REPLY #64846 /* ~«Шерил сказала, что он пропал. Она беспокоиться за него».~ */ GOTO 17
  IF ~~ THEN REPLY #64847 /* ~«Неважно. У меня есть вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64848 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 17 // from: 16.0
  SAY #64849 /* ~Она медленно кивает. «Аха, пропал он. А эта чокнутая потаскушка пришла к Ультере спросить... Нет! Обвинить Ультеру! Обвинить ее в злодействе... Ба! Ультеру обидели!»~ */
  IF ~~ THEN REPLY #64850 /* ~«Ты вполне могла бы простить дитя, которое тревожится за пропавшего отца».~ */ GOTO 18
  IF ~~ THEN REPLY #64851 /* ~«Неважно. У меня есть вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64852 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 18 // from: 17.0
  SAY #64853 /* ~Ультера яростно смотрит на тебя, но затем ее злость угасает, и она кивает. «Аха, аха... Ультера может простить тревогу, которая заставила девчонку позабыть о манерах... Чем Ультера может быть полезна?»~ */
  IF ~~ THEN REPLY #64854 /* ~«Аркин искал ключи к порталам. Он ведь приходил к тебе за помощью?»~ */ GOTO 19
  IF ~~ THEN REPLY #64855 /* ~«Неважно. У меня есть вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64856 /* ~«Я должен идти. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 19 // from: 18.0
  SAY #64857 /* ~«Аха, — она кивает. — Аркин приходил к Ультере и просил ее погадать, чем могут быть ключи... Потерянные ключи, аха, потерянные временем, потерянные людьми... Ультера нашла их... дала Аркину. У Аркина были ключи».~ */
  IF ~~ THEN REPLY #64858 /* ~«Чем они являются?»~ */ GOTO 20
END

IF ~~ THEN BEGIN 20 // from: 19.0
  SAY #64859 /* ~«А... Были они у Ультеры... ключи. Они простые». Она начинает бормотать и рыться в карманах. Через некоторое время ее морщинистое лицо озаряет веселье. «Вот он, ключ для входа...» Она протягивает тебе подсвечник.~ */
  IF ~~ THEN REPLY #64860 /* ~«А ключ для выхода, какой он?»~ */ DO ~GiveItemCreate("Candle",Protagonist,1,0,0)
~ GOTO 21
END

IF ~~ THEN BEGIN 21 // from: 20.0
  SAY #64861 /* ~Она дико хохочет над какой-то известной лишь ей шуткой. «Аха, а ключ для выхода... пустой кошелек! Аха, ты должен уйти из гробницы с пустым кошельком...» Ультера протягивает тебе пустой кошелек.~ */
  IF ~~ THEN REPLY #64862 /* ~«Теперь мне нужно найти портал. Где он находится?»~ */ DO ~GiveItemCreate("Purse",Protagonist,1,0,0)
~ GOTO 22
END

IF ~~ THEN BEGIN 22 // from: 21.0
  SAY #64863 /* ~Она снова хохочет, пожимая плечами. «Ультера не знает... он потерян. Аркин знал, но не Ультера, — Ультера серьезно смотрит на тебя и понижает голос. — Она может его найти, но ты взамен должен кое-что принести Ультере...»~ */
  IF ~~ THEN REPLY #64864 /* ~«И что тебе нужно?»~ */ GOTO 23
END

IF ~~ THEN BEGIN 23 // from: 22.0
  SAY #64865 /* ~Она поглаживает подбородок костистым пальцем. «Хм-м. Ты хочешь найти гробницу... должно быть что-то похожее... Принеси Ультере кость из человеческой ноги. Тогда она найдет портал. А теперь иди!»~ */
  IF ~~ THEN REPLY #64866 /* ~«Хорошо, Ультера. Я принесу тебе кость из человеческой ноги. Прощай».~ */ DO ~SetGlobal("Ulthera_Quest","GLOBAL",3)
~ JOURNAL #64937 /* ~Ведьма Ультера дала мне ключи к порталу, который Аркин, отец Шерил, хотел исследовать. Ключом для входа является подсвечник, а ключом для выхода — пустой кошелек. К сожалению, Ультера не знает, где находится портал. Она попросила меня найти кость из человеческой ноги. Она сказала, что может найти портал с помощью кости. Я согласился найти эту кость.~ */ EXIT
  IF ~~ THEN REPLY #64867 /* ~«Забудь. Я не собираюсь этого делать. Прощай».~ */ DO ~SetGlobal("Ulthera_Quest","GLOBAL",2)
~ EXIT
  IF ~~ THEN REPLY #64868 /* ~«Хм-м. Мне нужно подумать над этим. Прощай».~ */ DO ~SetGlobal("Ulthera_Quest","GLOBAL",1)
~ EXIT
END

IF WEIGHT #5 /* Triggers after states #: 25 26 27 29 even though they appear after this state */
~  NumTimesTalkedToGT(0)
~ THEN BEGIN 24 // from:
  SAY #64869 /* ~Перед тобой гадалка Ультера. Она машет тебе шишковатой рукой. «Аха, вернулся, значит. Чего хочешь?»~ */
  IF ~~ THEN REPLY #64870 /* ~«У меня есть пара вопросов...» ~ */ GOTO 2
  IF ~~ THEN REPLY #64871 /* ~«Ничего, прощай».~ */ EXIT
END

IF WEIGHT #3 /* Triggers after states #: 26 27 29 even though they appear after this state */
~  Global("Ulthera_Quest","GLOBAL",1)
~ THEN BEGIN 25 // from:
  SAY #64872 /* ~Перед тобой гадалка Ультера. Она машет тебе шишковатой рукой. «Аха, вернулся, значит. Решил подумать. Найди Ультере кость из человеческой ноги, и она найдет тебе портал. Что скажешь?»~ */
  IF ~~ THEN REPLY #64873 /* ~«Хорошо, Ультера. Я принесу тебе кость из человеческой ноги. Прощай».~ */ DO ~SetGlobal("Ulthera_Quest","GLOBAL",3)
~ JOURNAL #64937 /* ~Ведьма Ультера дала мне ключи к порталу, который Аркин, отец Шерил, хотел исследовать. Ключом для входа является подсвечник, а ключом для выхода — пустой кошелек. К сожалению, Ультера не знает, где находится портал. Она попросила меня найти кость из человеческой ноги. Она сказала, что может найти портал с помощью кости. Я согласился найти эту кость.~ */ EXIT
  IF ~~ THEN REPLY #64874 /* ~«Забудь. Я не собираюсь этого делать. Прощай».~ */ DO ~SetGlobal("Ulthera_Quest","GLOBAL",2)
~ EXIT
  IF ~~ THEN REPLY #64875 /* ~«Я еще подумаю. Прощай».~ */ EXIT
END

IF WEIGHT #2 /* Triggers after states #: 27 29 even though they appear after this state */
~  Global("Ulthera_Quest","GLOBAL",2)
~ THEN BEGIN 26 // from:
  SAY #64876 /* ~Перед тобой гадалка Ультера. Она машет тебе шишковатой рукой. «Аха, вернулся, значит. Отказался от помощи. Найди Ультере кость из человеческой ноги, и она найдет тебе портал. Что скажешь?»~ */
  IF ~~ THEN REPLY #64877 /* ~«Хорошо, Ультера. Я принесу тебе кость из человеческой ноги. Прощай».~ */ DO ~SetGlobal("Ulthera_Quest","GLOBAL",3)
~ JOURNAL #64937 /* ~Ведьма Ультера дала мне ключи к порталу, который Аркин, отец Шерил, хотел исследовать. Ключом для входа является подсвечник, а ключом для выхода — пустой кошелек. К сожалению, Ультера не знает, где находится портал. Она попросила меня найти кость из человеческой ноги. Она сказала, что может найти портал с помощью кости. Я согласился найти эту кость.~ */ EXIT
  IF ~~ THEN REPLY #64878 /* ~«Забудь. Я не собираюсь этого делать. Прощай».~ */ EXIT
  IF ~~ THEN REPLY #64879 /* ~«Я еще подумаю. Прощай».~ */ DO ~SetGlobal("Ulthera_Quest","GLOBAL",1)
~ EXIT
END

IF WEIGHT #1 /* Triggers after states #: 29 even though they appear after this state */
~  Global("Ulthera_Quest","GLOBAL",3)
~ THEN BEGIN 27 // from:
  SAY #64880 /* ~Перед тобой гадалка Ультера. Она машет тебе шишковатой рукой. «Аха, вернулся, значит. Согласился на помощь. Найди Ультере кость из человеческой ноги, и она найдет тебе портал. Что скажешь?»~ */
  IF ~  !PartyHasItem("Legclub")
~ THEN REPLY #64881 /* ~«У меня ее еще нет. Продолжаю искать. Прощай».~ */ EXIT
  IF ~  PartyHasItem("Legclub")
~ THEN REPLY #64882 /* ~«Вот она. А теперь скажи, где находится портал».~ */ DO ~DestroyItemObject("Legclub",Protagonist,TRUE)
SetGlobal("Ulthera_Quest","GLOBAL",4)
AddexperienceParty(1000)
~ GOTO 28
END

IF ~~ THEN BEGIN 28 // from: 27.1
  SAY #64883 /* ~Ультера внимательно осматривает кость, затем берет ее у тебя. Она прижимает ее поближе к телу и, покачиваясь, начинает петь. Ее голос становится все тревожней и тише, пока ты практически не перестаешь ее слышать. Наконец, она с хрипом указывает костью в северо-западном направлении. «Аха, на север и на запад, неподалеку от входа... Ультера нашла его. А теперь иди!»~ */
  IF ~~ THEN REPLY #64884 /* ~«Спасибо, Ультера. Прощай».~ */ JOURNAL #64936 /* ~Я нашел Ультере кость ноги и попросил ее найти место, где находится портал Аркина. Немного попев, она сказала, что портал может находиться на северо-западе, неподалеку от входа в Погребенную деревню. Надеюсь, она окажется права.~ */ EXIT
END

IF WEIGHT #0 ~  Global("Ulthera_Quest","GLOBAL",4)
~ THEN BEGIN 29 // from:
  SAY #64885 /* ~Перед тобой гадалка Ультера. Она машет тебе шишковатой рукой. «Аха, вернулся, значит. Чего хочешь?»~ */
  IF ~~ THEN REPLY #64886 /* ~«На самом деле — ничего. Прощай».~ */ EXIT
END

IF ~~ THEN BEGIN 30 // from: 6.1 10.1
  SAY #64932 /* ~Ультера хмуро смотрит на тебя, держа руки на поясе. «Боишься старую женщину? Боишься, что Ультера тебя укусит? Ну, тогда забудь. Чего еще тебе нужно?»~ */
  IF ~~ THEN REPLY #64933 /* ~«У меня есть другие вопросы...»~ */ GOTO 2
  IF ~~ THEN REPLY #64934 /* ~«Я должен идти, прощай».~ */ EXIT
END
